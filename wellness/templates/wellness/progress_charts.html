{% extends 'base.html' %}
{% block title %}Progress Charts{% endblock %}
{% block content %}
<h2>Your Progress ðŸ“Š</h2>

<div class="row mb-4">
    <div class="col-md-3">
        <div class="card bg-primary text-white text-center">
            <div class="card-body">
                <h3>{{ journal_count }}</h3>
                <p>Journals</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-success text-white text-center">
            <div class="card-body">
                <h3>{{ meditation_count }}</h3>
                <p>Meditations</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-info text-white text-center">
            <div class="card-body">
                <h3>{{ completion_rate }}%</h3>
                <p>Task Rate</p>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header bg-primary text-white">
        <h5>Activity Timeline</h5>
    </div>
    <div class="card-body">
        <canvas id="timelineChart" width="400" height="150"></canvas>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const timelineData = {{ mood_timeline|safe }};
const ctx = document.getElementById('timelineChart').getContext('2d');
new Chart(ctx, {
    type: 'line',
    data: {
        labels: Object.keys(timelineData),
        datasets: [{
            label: 'Mood Entries',
            data: Object.values(timelineData),
            borderColor: '#4ade80',
            fill: true
        }]
    }
});
</script>
{% endblock %}
